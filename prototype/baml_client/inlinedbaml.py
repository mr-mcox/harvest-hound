# ----------------------------------------------------------------------------
#
#  Welcome to Baml! To use this generated code, please run the following:
#
#  $ pip install baml
#
# ----------------------------------------------------------------------------

# This file was generated by BAML: please do not edit it. Instead, edit the
# BAML files and re-generate this code using: baml-cli generate
# baml-cli is available with the baml package.

_file_map = {

    "clients.baml": "client<llm> GPT41Mini {\n  provider openai\n  options {\n    model \"gpt-4o-mini\"\n    api_key env.OPENAI_API_KEY\n  }\n}\nclient<llm> Anthropic {\n  provider anthropic\n  options {\n    model \"claude-sonnet-4-5\"\n    api_key env.ANTHROPIC_HH_API_KEY\n    max_tokens 4096\n    thinking {\n      type \"enabled\"\n      budget_tokens 2000\n    }\n  }\n}\n",
    "generators.baml": "// This helps use auto generate libraries you can use in the language of\n// your choice. You can have multiple generators if you use multiple languages.\n// Just ensure that the output_dir is different for each generator.\ngenerator target {\n    // Valid values: \"python/pydantic\", \"typescript\", \"ruby/sorbet\", \"rest/openapi\"\n    output_type \"python/pydantic\"\n\n    // Where the generated code will be saved (relative to baml_src/)\n    output_dir \"../\"\n\n    // The version of the BAML package you have installed (e.g. same version as your baml-py or @boundaryml/baml).\n    // The BAML VSCode extension version should also match this version.\n    version \"0.214.0\"\n\n    // Valid values: \"sync\", \"async\"\n    // This controls what `b.FunctionName()` will be (sync or async).\n    default_client_mode async\n}\n",
    "inventory.baml": "class Ingredient {\n    name string\n    quantity float\n    unit string\n    priority string  // low, medium, high, urgent\n\n    @@assert(positive_quantity, {{ this.quantity > 0 }})\n    @@assert(name_not_empty, {{ this.name|length > 0 }})\n    @@assert(unit_not_empty, {{ this.unit|length > 0 }})\n}\n\nclass InventoryParsingResult {\n    ingredients Ingredient[]\n    parsing_notes string?\n}\n\nfunction ExtractIngredients(text: string, store_context: string?) -> InventoryParsingResult {\n    client \"openai/gpt-4o-mini\"\n    prompt #\"\n        This text contains a list of ingredients for a grocery/food inventory system.\n        <text>\n        {{ text }}\n        </text>\n\n        {% if store_context %}\n        <store_context>\n        {{ store_context }}\n\n        Use this context to inform your parsing assumptions, especially for portion sizes and units.\n        </store_context>\n        {% endif %}\n\n        Extract the ingredients from the text that are valid food items. Skip any items that are clearly not food ingredients.\n\n        For the ingredients array: Include only items that you can confidently parse as valid food ingredients with reasonable quantities.\n\n        For the parsing_notes field: If you encountered any problematic items while parsing, provide a brief natural language explanation. Examples of issues to note:\n        - Items that don't appear to be food ingredients (e.g., \"car tires\", \"homework\", \"Volvos\")\n        - Items with unclear or impossible quantities (e.g., \"3 gazillion eggs\", \"negative 5 apples\")\n        - Items too vague to parse meaningfully (e.g., \"some stuff\", \"food\")\n        - Leave this field null if all items were parsed successfully\n\n        Normalize valid ingredients with these guidelines:\n        <guidelines>\n        <ingredient>\n        - Are singular and lowercase\n        - Use common ingredient names (e.g., \"carrot\" not \"baby carrot\")\n        </ingredient>\n        <unit>\n        - Use full names (pound, ounce, cup, tablespoon, teaspoon, bunch, head, roast, chop, etc.)\n        - Are singular and lowercase\n        - For meats: Use item-based units when appropriate (roast, chop, steak, etc.) rather than weights\n        - When you see \"xN\" notation (e.g., \"x3\", \"x2\"), this indicates COUNT of items\n          * \"Butt Roast x3\" = 3 roasts (each roast is a separate item)\n          * \"Pork chops x4\" = 4 chops (each chop is a separate item)\n          * Use the item unit (roast, chop) and the count as quantity\n        - If unspecified, use the most reasonable unit for that ingredient\n        </unit>\n        <quantity>\n        - If unspecified, use a reasonable quantity one would purchase\n        - Always use numbers, never words (2 not \"two\")\n        - When parsing \"xN\" notation, the number N is the quantity and the item type is the unit\n        </quantity>\n        <priority>\n        - Suggest a priority level for each ingredient: \"low\", \"medium\", \"high\", or \"urgent\"\n        - Priority guidelines:\n          * \"urgent\" - Fresh items that spoil quickly (leafy greens, herbs, berries, cream, soft cheeses)\n          * \"high\" - Items that should be used relatively soon (other fresh vegetables, fresh meat in fridge)\n          * \"medium\" - Default for most items (frozen meat, root vegetables, pantry staples with decent shelf life)\n          * \"low\" - Long shelf life items (dried goods, canned items, frozen vegetables, freezer meat)\n        - Use your judgment based on typical shelf life and perishability\n        </priority>\n        </guidelines>\n\n        {{ ctx.output_format }}\n    \"#\n}\n\ntest carrots_single_ingredient {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        - 2 lbs carrots\n        \"#\n        store_context null\n    }\n    @@assert({{this.ingredients[0].name == \"carrot\"}})\n    @@assert({{this.ingredients[0].quantity == 2}})\n    @@assert({{this.ingredients[0].unit == \"pound\"}})\n}\n\ntest kale_with_bunch {\n    functions [ExtractIngredients]\n    args {\n        text \"1 bunch kale\"\n        store_context null\n    }\n    @@assert({{this.ingredients[0].name == \"kale\"}})\n    @@assert({{this.ingredients[0].quantity == 1}})\n    @@assert({{this.ingredients[0].unit == \"bunch\"}})\n}\n\ntest multi_line_ingredients {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        2 lbs carrots\n        1 bunch kale\n        \"#\n        store_context null\n    }\n    @@assert({{this.ingredients|length == 2}})\n    @@assert({{this.ingredients[0].name == \"carrot\"}})\n    @@assert({{this.ingredients[1].name == \"kale\"}})\n}\n\ntest carrots_rice {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        - 2 lbs carrots\\n- 1/2 cup rice\n        \"#\n        store_context null\n    }\n    @@assert({{this.ingredients[0].name == \"carrot\"}})\n    @@assert({{this.ingredients[0].quantity == 2}})\n    @@assert({{this.ingredients[0].unit == \"pound\"}})\n    @@assert({{this.ingredients[1].name == \"rice\"}})\n    @@assert({{this.ingredients[1].quantity == 0.5}})\n    @@assert({{this.ingredients[1].unit == \"cup\"}})\n}\n\ntest csv_format {\n    functions [ExtractIngredients]\n    args {\n        text \"carrots, 2, lbs\"\n        store_context null\n    }\n    @@assert({{this.ingredients[0].name == \"carrot\"}})\n    @@assert({{this.ingredients[0].quantity == 2}})\n    @@assert({{this.ingredients[0].unit == \"pound\"}})\n}\n\ntest empty_input {\n    functions [ExtractIngredients]\n    args {\n        text \"\"\n        store_context null\n    }\n    @@assert({{this.ingredients|length == 0}})\n}\n\ntest with_problematic_items {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        2 lbs carrots\n        1 Volvo car\n        3 gazillion eggs\n        1 bunch kale\n        \"#\n        store_context null\n    }\n    @@assert({{this.ingredients|length == 2}})\n    @@assert({{this.ingredients[0].name == \"carrot\"}})\n    @@assert({{this.ingredients[1].name == \"kale\"}})\n    @@assert({{this.parsing_notes != null}})\n}\n\ntest meat_with_x_notation {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        - Pork\n            - Butt Roast x3\n            - Loin chops x4\n            - Ground\n        \"#\n        store_context \"Freezer meat storage. Portions are typically 1 lb unless otherwise specified.\"\n    }\n    @@assert({{this.ingredients|length == 3}})\n    @@assert({{this.ingredients[0].quantity == 3}})\n    @@assert({{this.ingredients[0].unit == \"roast\"}})\n    @@assert({{this.ingredients[1].quantity == 4}})\n    @@assert({{this.ingredients[1].unit == \"chop\"}})\n    @@assert({{this.ingredients[2].unit == \"pound\"}})\n}\n",
    "recipes.baml": "class RecipeIngredient {\n  name string\n  quantity float\n  unit string\n  store string @description(\"Which store this ingredient comes from (exact store name)\")\n\n  @@assert(quantity_positive, {{ this.quantity > 0 }})\n  @@assert(name_not_empty, {{ this.name|length > 0 }})\n  @@assert(store_not_empty, {{ this.store|length > 0 }})\n}\n\nclass Recipe {\n  name string @description(\"Clear, appealing recipe name\")\n  ingredients RecipeIngredient[] @description(\"Complete ingredient list with measurements\")\n  instructions string @description(\"Step-by-step cooking instructions\")\n  active_time_minutes int @description(\"Active cooking time (prep + hands-on)\")\n  passive_time_minutes int? @description(\"Passive time (baking, simmering, etc.)\")\n  servings int @description(\"Number of servings this recipe makes\")\n  notes string? @description(\"Tips, variations, or prep-ahead suggestions\")\n\n  @@assert(name_length, {{ this.name|length > 0 }})\n  @@assert(has_ingredients, {{ this.ingredients|length > 0 }})\n  @@assert(has_instructions, {{ this.instructions|length > 0 }})\n}\n\n// Lightweight recipe pitch for browsing\nclass RecipePitch {\n  name string @description(\"Clear, appealing recipe name\")\n  blurb string @description(\"Single evocative sentence - emotional appeal, sensory, makes you want to cook it\")\n  why_make_this string @description(\"Concise practical appeal - 3-5 words capturing key benefit (e.g., 'One-pan weeknight dinner', 'Wow-factor for guests', 'Great leftovers')\")\n  key_ingredients string[] @description(\"3-5 main ingredients that will be used\")\n  explicit_ingredients RecipeIngredient[] @description(\"Structured list of explicit store ingredients with quantities that this recipe will claim\")\n  active_time_minutes int @description(\"Estimated active cooking time\")\n\n  @@assert(name_not_empty, {{ this.name|length > 0 }})\n  @@assert(blurb_not_empty, {{ this.blurb|length > 0 }})\n  @@assert(has_key_ingredients, {{ this.key_ingredients|length >= 3 }})\n}\n\nfunction GenerateRecipePitches(\n  explicit_stores: string,\n  definition_stores: string,\n  additional_context: string,\n  num_pitches: int\n) -> RecipePitch[] {\n  client Anthropic\n  prompt #\"\n    You are a specialized culinary AI assistant for a family of four with two young children who prefer non-spicy foods.\n\n    <household-context>\n    - Intermediate cooking skills (comfortable with sautéing, braising, making roux)\n    - Freezer with various meats\n    - Children enjoy pasta, rice, slight preference for Mexican flavors\n\n    Equipment available:\n    - Instant Pot, sous vide, food processor, blender\n    - Pasta maker, tortilla press, pizza stone, crock pot\n\n    Cooking preferences:\n    - Balance one-pot meals with \"protein + vegetable side\" combinations\n    - Emphasize creative and flavorful vegetable preparations\n    - Design for intentional leftovers for lunches\n    - Accommodate seasonal produce (winter staples: cabbage, sweet potatoes, etc.)\n    - Kid-friendly but flavorful\n    </household-context>\n\n    <explicit-stores>\n    These are ingredients with specific quantities that need to be claimed (use them explicitly in your pitches):\n    {{ explicit_stores }}\n    </explicit-stores>\n\n    <definition-stores>\n    These are unlimited pantry staples (don't list in explicit_ingredients):\n    {{ definition_stores }}\n    </definition-stores>\n\n    <user-context>\n    {{ additional_context }}\n    </user-context>\n\n    Generate {{ num_pitches }} DIVERSE recipe pitches that:\n    1. PRIORITIZE fresh CSA items that will spoil soon - generate MULTIPLE creative options for the same fresh ingredient\n    2. Use ingredients from the explicit stores listed above\n    3. Fit the household preferences and equipment\n    4. Consider the user's additional context if provided\n    5. Are diverse in TECHNIQUE, not ingredient choice:\n       - If you have radishes, suggest: roasted radishes, quick-pickled radishes, radish tacos, radish greens pesto, radish salad, etc.\n       - Different techniques (roasting, braising, raw, pickled, grilled, sautéed, fermented)\n       - Different flavor profiles (bright & acidic, rich & savory, sweet & tangy, funky & fermented)\n       - Different cuisines and styles (Mexican, Italian, Asian, comfort food)\n       - DIFFERENT TIME COMMITMENTS (mix quick 15-min meals with leisurely 60-min weekend projects)\n       - Different formats (one-pot, protein+sides, bowls, tacos, salads, sides)\n    6. Are appropriate for young children (not spicy)\n\n    CRITICAL: Don't artificially limit yourself to one pitch per ingredient. If radishes are the main CSA item, 5-7 radish recipes with different techniques is BETTER than forcing diversity across ingredients. Fresh items spoil - give multiple options!\n\n    IMPORTANT - Keep pitches CONCISE:\n    - blurb: ONE evocative sentence maximum. Sensory, emotional, makes you hungry. NO practical details.\n    - why_make_this: 3-5 WORDS capturing key practical benefit (e.g., \"One-pan weeknight\", \"Weekend project\", \"Great leftovers\")\n    - explicit_ingredients: List ONLY ingredients from explicit stores with quantities (not pantry staples)\n    - Don't repeat information between fields\n\n    {{ ctx.output_format }}\n  \"#\n}\n\nfunction GenerateSingleRecipe(\n  explicit_stores: string,\n  definition_stores: string,\n  additional_context: string,\n  recipes_already_generated: string\n) -> Recipe {\n  client Anthropic\n  prompt #\"\n    You are a specialized culinary AI assistant for a family of four with two young children who prefer non-spicy foods.\n\n    <household-context>\n    - Intermediate cooking skills (comfortable with sautéing, braising, making roux)\n    - Freezer with various meats\n    - Children enjoy pasta, rice, slight preference for Mexican flavors\n\n    Equipment available:\n    - Instant Pot, sous vide, food processor, blender\n    - Pasta maker, tortilla press, pizza stone, crock pot\n\n    Cooking preferences:\n    - PRIORITIZE low active cooking time over total time\n      (20 min prep + 3 hours passive > 45 min active)\n    - Balance one-pot meals with \"protein + vegetable side\" combinations\n    - Emphasize creative and flavorful vegetable preparations\n    - Design for intentional leftovers for lunches\n    - Accommodate seasonal produce (winter staples: cabbage, sweet potatoes, etc.)\n    - Kid-friendly but flavorful\n    </household-context>\n\n    <explicit-stores>\n    These are ingredients with specific quantities available:\n    {{ explicit_stores }}\n    </explicit-stores>\n\n    <definition-stores>\n    These are unlimited pantry staples:\n    {{ definition_stores }}\n    </definition-stores>\n\n    <user-context>\n    {{ additional_context }}\n    </user-context>\n\n    <recipes-already-generated>\n    {{ recipes_already_generated }}\n    </recipes-already-generated>\n\n    Generate ONE recipe that:\n    1. Uses ingredients from the explicit stores listed above\n    2. Prioritizes fresh CSA items that will spoil soon\n    3. Fits the household preferences and equipment\n    4. Considers the user's additional context if provided\n    5. Is DIFFERENT from any recipes already generated\n    6. Minimizes active cooking time while maximizing flavor\n    7. Is appropriate for young children (not spicy)\n\n    CRITICAL - Store Assignment for EVERY Ingredient:\n    You MUST assign a store to EVERY ingredient in the recipe. Use these rules:\n    - If ingredient is in explicit stores → use that exact store name\n    - If ingredient is in definition stores → use that exact store name\n    - If ingredient is NOT in any listed store → use \"Cub foods\" (the grocery store)\n\n    Example: If recipe needs goat cheese and it's not listed in any store, set store=\"Cub foods\"\n    This ensures we can generate complete shopping lists.\n\n    {{ ctx.output_format }}\n  \"#\n}\n\n// Generate a pitch from an existing recipe (reverse direction)\nfunction GeneratePitchFromRecipe(\n  recipe_name: string,\n  recipe_ingredients: string,\n  recipe_instructions: string,\n  recipe_description: string\n) -> RecipePitch {\n  client Anthropic\n  prompt #\"\n    You are creating a compelling pitch for an existing recipe.\n\n    Your goal is to capture the ESSENCE and CHARACTER of this recipe in a browsable pitch format.\n\n    <recipe>\n    Name: {{ recipe_name }}\n\n    {% if recipe_description %}\n    Description: {{ recipe_description }}\n    {% endif %}\n\n    Ingredients:\n    {{ recipe_ingredients }}\n\n    Instructions:\n    {{ recipe_instructions }}\n    </recipe>\n\n    Generate a RecipePitch that:\n    1. Preserves the VOICE and CHARACTER of the original recipe\n       - If the recipe has a personal story, reflect that in the blurb\n       - If it mentions cultural context, honor that\n       - If it has dramatic language (\"bravery\", \"patience\"), keep that energy\n\n    2. Accurately represents the EFFORT and TECHNIQUE\n       - If it's a slow braise, the pitch should suggest that\n       - If it's a quick weeknight meal, convey speed\n       - If it has unusual techniques (charring, flipping), hint at that\n\n    3. Highlights the CORE INGREDIENTS that define the dish\n       - Focus on what makes this recipe distinctive\n       - List 3-5 key ingredients (not every ingredient)\n\n    4. Creates ACCURATE EXPECTATIONS\n       - The blurb should set up what the fleshed-out recipe will deliver\n       - Don't promise something the recipe doesn't provide\n       - If it's complex, don't make it sound simple\n\n    IMPORTANT - Pitch Structure:\n    - name: Use the exact recipe name\n    - blurb: ONE evocative sentence capturing the recipe's character/appeal\n    - why_make_this: 3-5 words capturing practical benefit\n    - key_ingredients: 3-5 main ingredients (semantic names, not quantities)\n    - explicit_ingredients: For this test, mark all ingredients as from \"Test Store\"\n    - active_time_minutes: Estimate based on instructions\n\n    {{ ctx.output_format }}\n  \"#\n}\n\n// Fidelity scoring across multiple dimensions\nclass FidelityScore {\n  ingredient_alignment int @description(\"0-100: Do core ingredients match between original and generated?\")\n  ingredient_reasoning string @description(\"Explanation of ingredient alignment score\")\n\n  effort_alignment int @description(\"0-100: Is time/complexity/technique as expected?\")\n  effort_reasoning string @description(\"Explanation of effort alignment score\")\n\n  experience_alignment int @description(\"0-100: Does generated recipe deliver on pitch/original's promise?\")\n  experience_reasoning string @description(\"Explanation of experience alignment score\")\n\n  character_preservation int @description(\"0-100: Is the voice, style, and personality preserved?\")\n  character_reasoning string @description(\"Explanation of character preservation score\")\n\n  overall_score int @description(\"0-100: Overall fidelity (weighted average)\")\n  overall_assessment string @description(\"Summary assessment of fidelity\")\n}\n\n// Judge fidelity: Does the round-trip maintain recipe identity?\nfunction JudgeFidelity(\n  original_recipe_name: string,\n  original_recipe_description: string,\n  original_ingredients: string,\n  original_instructions: string,\n  pitch_name: string,\n  pitch_blurb: string,\n  pitch_why_make_this: string,\n  generated_recipe_name: string,\n  generated_ingredients: string,\n  generated_instructions: string\n) -> FidelityScore {\n  client Anthropic\n  prompt #\"\n    You are evaluating whether a recipe survived a round-trip transformation:\n    Original Recipe → Pitch → Generated Recipe\n\n    Your job is to assess FIDELITY across multiple dimensions.\n\n    <original-recipe>\n    Name: {{ original_recipe_name }}\n    {% if original_recipe_description %}\n    Description: {{ original_recipe_description }}\n    {% endif %}\n\n    Ingredients:\n    {{ original_ingredients }}\n\n    Instructions:\n    {{ original_instructions }}\n    </original-recipe>\n\n    <pitch>\n    Name: {{ pitch_name }}\n    Blurb: {{ pitch_blurb }}\n    Why Make This: {{ pitch_why_make_this }}\n    </pitch>\n\n    <generated-recipe>\n    Name: {{ generated_recipe_name }}\n\n    Ingredients:\n    {{ generated_ingredients }}\n\n    Instructions:\n    {{ generated_instructions }}\n    </generated-recipe>\n\n    Evaluate fidelity across these dimensions:\n\n    1. INGREDIENT ALIGNMENT (0-100)\n       - Do the core/defining ingredients match?\n       - Minor substitutions are OK (e.g., \"yellow onion\" vs \"white onion\")\n       - Major omissions or additions should lower score\n       - Focus on IDENTITY-DEFINING ingredients, not every detail\n\n    2. EFFORT ALIGNMENT (0-100)\n       - Is the time commitment similar?\n       - Is the technique complexity similar?\n       - Would someone selecting the pitch get what they expected?\n       - 10-min difference in time is OK; 30+ min is not\n\n    3. EXPERIENCE ALIGNMENT (0-100)\n       - Does the generated recipe deliver on the pitch's promise?\n       - If pitch said \"comfort food\", is generated recipe comforting?\n       - If pitch suggested \"quick weeknight\", is it actually quick?\n       - Does it fulfill the emotional/sensory expectations?\n\n    4. CHARACTER PRESERVATION (0-100)\n       - If original had distinctive voice, is it preserved?\n       - If original had cultural context, is it honored?\n       - If original had dramatic language (\"bravery\", \"patience\"), is that energy maintained?\n       - Would someone who loved the original recognize this version?\n\n    5. OVERALL SCORE (0-100)\n       Calculate weighted average:\n       - Ingredient alignment: 30%\n       - Effort alignment: 25%\n       - Experience alignment: 25%\n       - Character preservation: 20%\n\n    Be honest and specific in your reasoning. This is a research evaluation.\n\n    {{ ctx.output_format }}\n  \"#\n}\n",
}

def get_baml_files():
    return _file_map