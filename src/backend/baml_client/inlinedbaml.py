# ----------------------------------------------------------------------------
#
#  Welcome to Baml! To use this generated code, please run the following:
#
#  $ pip install baml
#
# ----------------------------------------------------------------------------

# This file was generated by BAML: please do not edit it. Instead, edit the
# BAML files and re-generate this code using: baml-cli generate
# baml-cli is available with the baml package.

_file_map = {

    "clients.baml": "client<llm> Anthropic {\n  provider anthropic\n  options {\n    model \"claude-sonnet-4-5\"\n    api_key env.ANTHROPIC_HH_API_KEY\n    max_tokens 4096\n  }\n}\n\nclient<llm> OpenAI {\n  provider openai\n  options {\n    model \"gpt-4o\"\n    api_key env.OPENAI_API_KEY\n  }\n}\n",
    "generators.baml": "generator target {\n    output_type \"python/pydantic\"\n    output_dir \"../\"\n    version \"0.214.0\"\n    default_client_mode async\n}\n",
    "inventory.baml": "enum Priority {\n    Low\n    Medium\n    High\n    Urgent\n}\n\nclass Ingredient {\n    name string\n    quantity float\n    unit string\n    priority Priority\n    portion_size string?\n\n    @@assert(positive_quantity, {{ this.quantity > 0 }})\n    @@assert(name_not_empty, {{ this.name|length > 0 }})\n    @@assert(unit_not_empty, {{ this.unit|length > 0 }})\n}\n\nclass InventoryParsingResult {\n    ingredients Ingredient[]\n    parsing_notes string?\n}\n\nfunction ExtractIngredients(text: string, configuration_instructions: string?) -> InventoryParsingResult {\n    client OpenAI\n    prompt #\"\n        Extract ingredients from this text for a grocery/food inventory system.\n\n        <text>\n        {{ text }}\n        </text>\n\n        {% if configuration_instructions %}\n        <configuration_instructions>\n        {{ configuration_instructions }}\n        </configuration_instructions>\n\n        Apply these configuration instructions when parsing the ingredients. They may specify portion sizes, priorities, or other context about the batch.\n        {% endif %}\n\n        Extract ONLY ingredients that appear in the text above. Do not add any ingredients that are not explicitly mentioned.\n\n        Normalize ingredients with these guidelines:\n        - name: singular, lowercase, include category context when nested (e.g., \"pork butt roast\" not just \"butt roast\")\n        - quantity: numeric value (e.g., 2 not \"two\")\n        - unit: full name, singular, lowercase (e.g., \"pound\" not \"lbs\", \"cup\" not \"cups\")\n          - For countable items, use item-specific units: \"roast\", \"chop\", \"can\", \"jar\", \"head\", \"bunch\"\n          - When you see \"xN\" notation (e.g., \"x3\"), N is the quantity and the item type is the unit\n          - Avoid generic units like \"piece\", \"each\", \"item\" - be specific to what it is\n        - priority: infer based on perishability (how quickly it will spoil)\n          - Urgent: fresh items that spoil quickly (leafy greens, herbs, berries, fresh cream)\n          - High: items to use relatively soon (other fresh vegetables, fresh meat)\n          - Medium: default for most items (root vegetables, frozen meat, pantry staples)\n          - Low: long shelf life (dried goods, canned items, frozen vegetables)\n        - portion_size: extract if specified in text or configuration instructions\n          - From text: \"3 16oz cans\" → \"16 ounce\"\n          - From config: if config says \"all in 1 pound portions\", apply to relevant items\n          - Use full unit names (e.g., \"16 ounce\" not \"16oz\", \"1 pound\" not \"1lb\")\n          - Text-specified portions take precedence over config-specified portions\n          - null if no portion size specified anywhere\n          - The name should NOT include the container type (e.g., \"black bean\" not \"black bean can\")\n\n        {{ ctx.output_format }}\n    \"#\n}\n\ntest simple_units_carrots {\n    functions [ExtractIngredients]\n    args {\n        text \"2 lbs carrots\"\n        configuration_instructions null\n    }\n    @@assert({{ this.ingredients|length == 1 }})\n    @@assert({{ this.ingredients[0].name == \"carrot\" }})\n    @@assert({{ this.ingredients[0].quantity == 2 }})\n    @@assert({{ this.ingredients[0].unit == \"pound\" }})\n}\n\ntest simple_units_kale_bunch {\n    functions [ExtractIngredients]\n    args {\n        text \"1 bunch kale\"\n        configuration_instructions null\n    }\n    @@assert({{ this.ingredients|length == 1 }})\n    @@assert({{ this.ingredients[0].name == \"kale\" }})\n    @@assert({{ this.ingredients[0].quantity == 1 }})\n    @@assert({{ this.ingredients[0].unit == \"bunch\" }})\n}\n\ntest simple_units_multi_line {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        2 lbs carrots\n        1 bunch kale\n        1/2 cup rice\n        \"#\n        configuration_instructions null\n    }\n    @@assert({{ this.ingredients|length == 3 }})\n    @@assert({{ this.ingredients[0].name == \"carrot\" }})\n    @@assert({{ this.ingredients[1].name == \"kale\" }})\n    @@assert({{ this.ingredients[2].name == \"rice\" }})\n    @@assert({{ this.ingredients[2].quantity == 0.5 }})\n    @@assert({{ this.ingredients[2].unit == \"cup\" }})\n}\n\ntest count_units_meat_x_notation {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        - Pork\n            - Butt Roast x3\n            - Loin chops x4\n        \"#\n        configuration_instructions null\n    }\n    @@assert({{ this.ingredients|length == 2 }})\n    @@assert({{ this.ingredients[0].name == \"pork butt roast\" }})\n    @@assert({{ this.ingredients[0].quantity == 3 }})\n    @@assert({{ this.ingredients[0].unit == \"roast\" }})\n    @@assert({{ this.ingredients[1].name == \"pork loin chop\" }})\n    @@assert({{ this.ingredients[1].quantity == 4 }})\n    @@assert({{ this.ingredients[1].unit == \"chop\" }})\n}\n\ntest priority_inference_perishability {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        1 bunch spinach\n        2 lbs carrots\n        1 can black beans\n        1 lb fresh chicken breast\n        \"#\n        configuration_instructions null\n    }\n    @@assert({{ this.ingredients|length == 4 }})\n    // spinach is leafy green -> Urgent\n    @@assert({{ this.ingredients[0].priority == \"Urgent\" }})\n    // carrots are root vegetables -> Medium or High\n    @@assert({{ this.ingredients[1].priority in [\"Medium\", \"High\"] }})\n    // canned beans -> Low\n    @@assert({{ this.ingredients[2].priority == \"Low\" }})\n    // fresh chicken -> High\n    @@assert({{ this.ingredients[3].priority == \"High\" }})\n}\n\ntest portion_size_from_text {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        3 16oz cans black beans\n        4 1lb bags frozen peas\n        \"#\n        configuration_instructions null\n    }\n    @@assert({{ this.ingredients|length == 2 }})\n    // 3 cans, each 16oz\n    @@assert({{ this.ingredients[0].name == \"black bean\" }})\n    @@assert({{ this.ingredients[0].quantity == 3 }})\n    @@assert({{ this.ingredients[0].unit == \"can\" }})\n    @@assert({{ this.ingredients[0].portion_size == \"16 ounce\" }})\n    // 4 bags, each 1lb\n    @@assert({{ this.ingredients[1].name == \"frozen pea\" }})\n    @@assert({{ this.ingredients[1].quantity == 4 }})\n    @@assert({{ this.ingredients[1].unit == \"bag\" }})\n    @@assert({{ this.ingredients[1].portion_size == \"1 pound\" }})\n}\n\ntest portion_size_from_config {\n    functions [ExtractIngredients]\n    args {\n        text #\"\n        Ground beef x5\n        Chicken breast x3\n        \"#\n        configuration_instructions \"All meat is frozen in 1 pound portions\"\n    }\n    @@assert({{ this.ingredients|length == 2 }})\n    // Config says 1 pound portions for all meat\n    @@assert({{ this.ingredients[0].name == \"ground beef\" }})\n    @@assert({{ this.ingredients[0].quantity == 5 }})\n    @@assert({{ this.ingredients[0].portion_size == \"1 pound\" }})\n    @@assert({{ this.ingredients[1].name == \"chicken breast\" }})\n    @@assert({{ this.ingredients[1].quantity == 3 }})\n    @@assert({{ this.ingredients[1].portion_size == \"1 pound\" }})\n}\n",
    "recipes.baml": "// Recipe pitch generation for meal planning criteria\n\nclass PitchIngredient {\n  name string @description(\"Ingredient name matching inventory\")\n  quantity float @description(\"Amount needed for this recipe\")\n  unit string @description(\"Unit of measurement (pound, bunch, cup, etc.)\")\n\n  @@assert(quantity_positive, {{ this.quantity > 0 }})\n  @@assert(name_not_empty, {{ this.name|length > 0 }})\n  @@assert(unit_not_empty, {{ this.unit|length > 0 }})\n}\n\nclass RecipePitch {\n  name string @description(\"Clear, appealing recipe name\")\n  blurb string @description(\"Single evocative sentence - emotional appeal, sensory, makes you want to cook it\")\n  why_make_this string @description(\"Concise practical appeal - 3-5 words capturing key benefit (e.g., 'One-pan weeknight dinner', 'Wow-factor for guests', 'Great leftovers')\")\n  inventory_ingredients PitchIngredient[] @description(\"Ingredients from inventory with quantities this recipe will claim\")\n  active_time_minutes int @description(\"Estimated active cooking time\")\n\n  @@assert(name_not_empty, {{ this.name|length > 0 }})\n  @@assert(blurb_not_empty, {{ this.blurb|length > 0 }})\n  @@assert(has_inventory_ingredients, {{ this.inventory_ingredients|length >= 1 }})\n}\n\nfunction GenerateRecipePitches(\n  inventory: string,\n  pantry_staples: string,\n  grocery_stores: string,\n  household_profile: string,\n  additional_context: string,\n  num_pitches: int\n) -> RecipePitch[] {\n  client Anthropic\n  prompt #\"\n    You are a culinary AI assistant helping plan meals for a household.\n\n    <household-profile>\n    {{ household_profile }}\n    </household-profile>\n\n    <grocery-stores>\n    These are the stores available for shopping. Only suggest recipes that can be made with ingredients obtainable from these stores:\n    {{ grocery_stores }}\n    </grocery-stores>\n\n    <inventory>\n    Ingredients currently on hand, grouped by source. Each ingredient has a priority level (Urgent > High > Medium > Low). Prioritize higher-priority ingredients:\n    {{ inventory }}\n    </inventory>\n\n    <pantry-staples>\n    These are unlimited pantry staples (don't include in inventory_ingredients):\n    {{ pantry_staples }}\n    </pantry-staples>\n\n    <meal-context>\n    {{ additional_context }}\n    </meal-context>\n\n    Generate {{ num_pitches }} recipe pitches that:\n    1. Use ingredients from the inventory listed above, prioritizing higher-priority items\n    2. Only require additional ingredients that are obtainable from the listed grocery stores\n    3. Fit the household preferences and equipment from the profile\n    4. Consider the meal context if provided\n    5. Are appropriate based on household dietary preferences\n\n    DIVERSITY GUIDANCE:\n    - Ingredients CAN repeat across pitches - that's normal for weekly planning\n    - Aim for variety in technique (roasting, braising, sautéing, raw, etc.)\n    - Mix different cuisines and flavor profiles where appropriate\n    - Include a range of time commitments (quick meals and longer projects)\n    - Don't force artificial variety - practical repetition is fine\n\n    IMPORTANT - Keep pitches CONCISE:\n    - blurb: ONE evocative sentence maximum. Sensory, emotional, makes you hungry. NO practical details.\n    - why_make_this: 3-5 WORDS capturing key practical benefit (e.g., \"One-pan weeknight\", \"Weekend project\", \"Great leftovers\")\n    - inventory_ingredients: List ingredients FROM INVENTORY ONLY with realistic quantities for this recipe. Don't include pantry staples.\n    - Don't repeat information between fields\n\n    {{ ctx.output_format }}\n  \"#\n}\n\n// Test: Basic pitch generation with simple inventory\ntest basic_pitch_generation {\n  functions [GenerateRecipePitches]\n  args {\n    inventory #\"\n    ## CSA Box\n    - 2 lbs carrots (High priority)\n    - 1 bunch kale (Urgent priority)\n\n    ## Freezer\n    - 1 lb ground beef (Medium priority)\n    \"#\n    pantry_staples #\"\n    Salt, pepper, olive oil, garlic, onions, soy sauce, rice, pasta\n    \"#\n    grocery_stores #\"\n    - Cub Foods: Standard suburban grocery store with typical American ingredients\n    \"#\n    household_profile #\"\n    Family of 4 with two young children.\n    Intermediate cooking skills.\n    Equipment: Instant Pot, standard stovetop, oven.\n    Preferences: Kid-friendly, not too spicy.\n    \"#\n    additional_context \"Quick weeknight dinners, 30 minutes or less\"\n    num_pitches 3\n  }\n  @@assert(correct_count, {{ this|length == 3 }})\n  @@assert(has_names, {{ this[0].name|length > 0 }})\n  @@assert(has_blurbs, {{ this[0].blurb|length > 0 }})\n  @@assert(has_inventory_ingredients, {{ this[0].inventory_ingredients|length >= 1 }})\n  @@assert(has_time, {{ this[0].active_time_minutes > 0 }})\n}\n\n// Test: Pitch generation respects num_pitches parameter\ntest respects_num_pitches {\n  functions [GenerateRecipePitches]\n  args {\n    inventory #\"\n    ## Grocery Store\n    - 1 lb chicken breast (Medium priority)\n    - 1 head broccoli (High priority)\n    \"#\n    pantry_staples \"Salt, pepper, oil, garlic\"\n    grocery_stores \"- Local Grocery: General grocery store\"\n    household_profile \"Single person, quick meals preferred\"\n    additional_context \"Meal prep for the week\"\n    num_pitches 6\n  }\n  @@assert(correct_count, {{ this|length == 6 }})\n}\n\n// Test: Inventory ingredients have quantities\ntest inventory_ingredients_have_quantities {\n  functions [GenerateRecipePitches]\n  args {\n    inventory #\"\n    ## Farmers Market\n    - 3 lbs sweet potatoes (Medium priority)\n    - 2 cans black beans (Low priority)\n    \"#\n    pantry_staples \"Cumin, chili powder, salt, oil\"\n    grocery_stores \"- Farmers Market: Local produce and specialty items\"\n    household_profile \"Vegetarian household\"\n    additional_context \"\"\n    num_pitches 2\n  }\n  @@assert(has_pitches, {{ this|length == 2 }})\n  @@assert(has_ingredients, {{ this[0].inventory_ingredients|length >= 1 }})\n  // Ingredients should have positive quantities\n  @@assert(valid_quantity, {{ this[0].inventory_ingredients[0].quantity > 0 }})\n  @@assert(has_unit, {{ this[0].inventory_ingredients[0].unit|length > 0 }})\n}\n\n\nclass RecipeIngredient {\n  name string @description(\"MUST match inventory names exactly for claiming\")\n  quantity string @description(\"Amount: '2', '1.5', '2-3', or 'to taste'\")\n  unit string\n  preparation string? @description(\"How to prep: diced, minced, julienned\")\n  notes string?\n\n  @@assert(name_not_empty, {{ this.name|length > 0 }})\n  @@assert(quantity_not_empty, {{ this.quantity|length > 0 }})\n  @@assert(unit_not_empty, {{ this.unit|length > 0 }})\n}\n\nclass CompleteRecipe {\n  name string\n  description string\n  ingredients RecipeIngredient[]\n  instructions string[]\n  active_time_minutes int\n  total_time_minutes int\n  servings int\n  notes string?\n\n  @@assert(name_not_empty, {{ this.name|length > 0 }})\n  @@assert(description_not_empty, {{ this.description|length > 0 }})\n  @@assert(has_ingredients, {{ this.ingredients|length >= 1 }})\n  @@assert(has_instructions, {{ this.instructions|length >= 2 }})\n  @@assert(active_time_positive, {{ this.active_time_minutes > 0 }})\n  @@assert(total_time_positive, {{ this.total_time_minutes > 0 }})\n  @@assert(total_gte_active, {{ this.total_time_minutes >= this.active_time_minutes }})\n  @@assert(servings_positive, {{ this.servings >= 1 }})\n  @@assert(servings_reasonable, {{ this.servings <= 20 }})\n}\n\nfunction FleshOutRecipe(\n  pitch_name: string,\n  pitch_blurb: string,\n  pitch_inventory_ingredients: string,\n  household_profile: string,\n  pantry_staples: string,\n  grocery_stores: string,\n  inventory: string\n) -> CompleteRecipe {\n  client Anthropic\n  prompt #\"\n    You are a culinary AI assistant creating a complete recipe from a pitch.\n\n    <household-profile>\n    {{ household_profile }}\n    </household-profile>\n\n    <grocery-stores>\n    {{ grocery_stores }}\n    </grocery-stores>\n\n    <inventory>\n    {{ inventory }}\n    </inventory>\n\n    <pantry-staples>\n    {{ pantry_staples }}\n    </pantry-staples>\n\n    <pitch>\n    Name: {{ pitch_name }}\n    Blurb: {{ pitch_blurb }}\n    Key inventory ingredients: {{ pitch_inventory_ingredients }}\n    </pitch>\n\n    Create a complete recipe that:\n    1. Faithfully expands the pitch\n    2. Uses the key inventory ingredients from the pitch\n    3. May add pantry staples and grocery items from listed stores\n    4. Fits the household profile\n\n    CRITICAL - Ingredient names for inventory items:\n    - Use EXACT names from the inventory list (enables automatic claiming)\n    - Example: If inventory says \"carrots\", use \"carrots\" not \"baby carrots\"\n\n    INGREDIENT FORMAT:\n    - preparation: How to prep BEFORE cooking (diced, minced, julienned)\n      - Include for produce and proteins - important for shopping\n\n    {{ ctx.output_format }}\n  \"#\n}\n\ntest flesh_out_generates_valid_structure {\n  functions [FleshOutRecipe]\n  args {\n    pitch_name \"Honey Glazed Carrots\"\n    pitch_blurb \"Sweet, caramelized carrots that melt in your mouth\"\n    pitch_inventory_ingredients \"carrots: 2 lbs\"\n    household_profile \"Family of 4, intermediate cooking skills\"\n    pantry_staples \"Salt, pepper, butter, honey, olive oil\"\n    grocery_stores \"- Local Grocery: Standard grocery store\"\n    inventory #\"\n    ## CSA Box\n    - 2 lbs carrots (High priority)\n    \"#\n  }\n  @@assert(has_name, {{ this.name|length > 0 }})\n  @@assert(has_ingredients, {{ this.ingredients|length >= 1 }})\n  @@assert(has_multiple_instructions, {{ this.instructions|length >= 2 }})\n  @@assert(active_time_positive, {{ this.active_time_minutes > 0 }})\n  @@assert(total_gte_active, {{ this.total_time_minutes >= this.active_time_minutes }})\n  @@assert(servings_positive, {{ this.servings >= 1 }})\n}\n\ntest flesh_out_uses_exact_inventory_names {\n  functions [FleshOutRecipe]\n  args {\n    pitch_name \"Kale and Carrot Stir Fry\"\n    pitch_blurb \"Quick, healthy, and packed with CSA goodness\"\n    pitch_inventory_ingredients \"carrots: 1 lb, kale: 1 bunch\"\n    household_profile \"Health-conscious household\"\n    pantry_staples \"Soy sauce, sesame oil, garlic, ginger\"\n    grocery_stores \"- Local Grocery: Standard grocery store\"\n    inventory #\"\n    ## CSA Box\n    - 2 lbs carrots (High priority)\n    - 1 bunch kale (Urgent priority)\n    \"#\n  }\n  @@assert(has_inventory_ingredient, {{ this.ingredients|length >= 2 }})\n}\n\ntest flesh_out_includes_preparation {\n  functions [FleshOutRecipe]\n  args {\n    pitch_name \"Carrot Soup\"\n    pitch_blurb \"Velvety smooth soup with warm spices\"\n    pitch_inventory_ingredients \"carrots: 2 lbs\"\n    household_profile \"Home cook with standard equipment\"\n    pantry_staples \"Salt, pepper, olive oil, onion, garlic, vegetable broth\"\n    grocery_stores \"- Local Grocery: Standard grocery store\"\n    inventory #\"\n    ## CSA Box\n    - 2 lbs carrots (High priority)\n    \"#\n  }\n  @@assert(has_ingredients, {{ this.ingredients|length >= 1 }})\n}\n",
}

def get_baml_files():
    return _file_map